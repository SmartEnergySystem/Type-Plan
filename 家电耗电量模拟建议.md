# 家电耗电量模拟建议





关于如何模拟“家电能耗”，正常办法应该是调用家电的api，但我们没有，因此我们需要设定一个模拟的方法



首先，假设我们的智能家居允许自由的设定运行策略。可以设定多个运行时段（时间不能重叠），每个运行时段可以设定为节能/常规运行模式。不处于运行时段时，设备处于关机模式。

​	同时家电具有“功率”属性，分为省电和常规模式的功率。那么我们就能通过“运行策略”和“功率”直接计算出轮询间隔中该设备的耗电量。

​	这种方法的好处是，将耗电量模拟变为一个静态函数，而不需要额外维护独立运行的系统或数据库。



​	具体而言，在我们能源管理系统的数据库表中，肯定存在以下内容：

​	1.已添加的设备列表，包含设备的两个“功率”属性

​	2.能耗策略表，储存多种运行策略（可以设定多个策略，策略与设备独立）

​	3.策略-设备表（用户可以设定设备使用哪个策略，并将策略发送给设备。因此策略与设备是多对多关系）



​	设定一个模拟函数，当需要轮询某设备的耗电量时，改为查询自己数据库中设备的耗电量，与该设备当前的策略，然后计算出一个耗电量



​	补充：每次查询耗电量，需要提供查询时的时间（使用系统时间），以及上次查询时的时间，才能对应策略中哪一个时段